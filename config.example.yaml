# SocksBalance Configuration

# Listen address for incoming connections
listen: "0.0.0.0:1080"

# Proxy mode:
#   - transparent: Zero-copy TCP forwarding (fastest, recommended)
#   - socks5: Full SOCKS5 protocol handling (decode/re-encode)
mode: "transparent"

# Backend SOCKS5 proxy servers
# Supports single ports and port ranges
backends:
  # Single backend
  - address: "192.168.1.100:1080"
    name: "Primary Proxy"

  # Port range (expands to multiple backends)
  # Format: host:startPort-endPort
  # Example: 127.0.0.1:9070-9089 creates 20 backends (9070, 9071, ..., 9089)
  - address: "127.0.0.1:9070-9089"
    name: "Tor Instances"

  # Another range example
  - address: "192.168.1.200:10800-10810"
    name: "Proxy Farm"

  # IPv6 support (single and ranges)
  - address: "[::1]:1080"
    name: "IPv6 Local"
  
  - address: "[2001:db8::1]:8080-8082"
    name: "IPv6 Range"

# Health check configuration
health:
  # URL to test through backends (HTTP/HTTPS)
  test_url: "https://www.google.com"
  
  # How often to check backend health
  check_interval: 10s
  
  # Maximum time to wait for backend connection
  connect_timeout: 5s
  
  # Maximum time to wait for full HTTP request
  request_timeout: 10s
  
  # Number of failures before marking backend unhealthy
  failure_threshold: 3

# Load balancer configuration
balancer:
  # Algorithm: roundrobin (only option currently)
  # Backends are automatically sorted by latency
  algorithm: "roundrobin"

# Logging configuration
log:
  # Level: debug, info, warn, error
  level: "info"
  
  # Format: text, json
  format: "text"
